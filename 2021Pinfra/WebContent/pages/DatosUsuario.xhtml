<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition template="/layout/layout.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">
	
	<ui:define name="title">
		<c:set var="title" value="Datos de Usuario" scope="request" />
	</ui:define>
	
	<ui:define name="content">
			 
		<f:metadata>
		    <f:viewParam name="id" value="#{gestionUsuario.id}" />
		    <f:viewParam name="modalidad" value="#{gestionUsuario.modalidad}" />
		    <f:event type="preRenderView" 
		    	listener="#{gestionUsuario.preRenderViewListener}"/>
		</f:metadata>
		
			<c:choose>
		<c:when test="${gestionUsuario.modalidad == 'insert'}">
			<h2>Alta de Usuario</h2>
		</c:when>
		<c:otherwise>
			<h2>Modificar Usuario</h2>
		</c:otherwise>
	</c:choose>

	<h:form id="idDatosUsuario">
		 
		<p:messages id="messages" showDetail="true" closable="true">
        	<p:autoUpdate />
    	
		
		
		
		
			
		<p:panelGrid columns="3">

			<p:outputLabel  value="Id" />
			<p:inputText id="id" disabled="true"  value="#{gestionUsuario.usuarioSeleccionado.id}" />
			<p:message for="id" style="color:red" />
			
			<p:outputLabel value="Nombre" />
			<p:inputText id="nombre" disabled="#{!gestionUsuario.modoEdicion}" value="#{gestionUsuario.usuarioSeleccionado.nombre}" />
			<p:message for="nombre" style="color:red" />
			
			<p:outputLabel value="Apellido" />
			<p:inputText id="apellido" disabled="#{!gestionUsuario.modoEdicion}" value="#{gestionUsuario.usuarioSeleccionado.apellido}" />
			<p:message for="apellido" style="color:red" />
			
			<p:outputLabel value="Cedula" />
			<p:inputText id="cedula" disabled="#{!gestionUsuario.modoEdicion}" value="#{gestionUsuario.usuarioSeleccionado.cedula}" />
			<p:message for="cedula" style="color:red" />
			
			<p:outputLabel value="Cuenta Usuario" />
			<p:inputText id="usuarioCuenta" disabled="#{!gestionUsuario.modoEdicion}" value="#{gestionUsuario.usuarioSeleccionado.usuarioCuenta}" />
			<p:message for="usuarioCuenta" style="color:red" />
			
			<p:outputLabel value="Contraseña" />
			<p:inputText id="contrasenia" disabled="#{!gestionUsuario.modoEdicion}" value="#{gestionUsuario.usuarioSeleccionado.contrasenia}" />
			<p:message for="contrasenia" style="color:red" />
			
			<p:outputLabel value="Instituto" />
			<p:inputText id="instituto" disabled="#{!gestionUsuario.modoEdicion}" value="#{gestionUsuario.usuarioSeleccionado.instituto}" />
			<p:message for="instituto" style="color:red" />
			
			<p:outputLabel value="Profesión" />
			<p:inputText id="profesion" disabled="#{!gestionUsuario.modoEdicion}" value="#{gestionUsuario.usuarioSeleccionado.profesion}" />
			<p:message for="profesion" style="color:red" />
			
			<p:outputLabel value="Email" />
			<p:inputText id="email" disabled="#{!gestionUsuario.modoEdicion}" value="#{gestionUsuario.usuarioSeleccionado.email}" />
			<p:message for="email" style="color:red" />
			
			<p:outputLabel value="Rol" />
			<p:selectOneMenu id="rolUsuario" disabled="#{!gestionUsuario.modoEdicion}" value="#{gestionUsuario.usuarioSeleccionado.rolUsuario}">
   				<f:selectItem itemValue="" itemLabel="Seleccionar uno" />
   				<f:selectItem itemValue="Administrador" itemLabel="Administrador" />
   				<f:selectItem itemValue="Común" itemLabel="Común" />
   				<f:selectItem itemValue="Empleado" itemLabel="Empleado" />
			</p:selectOneMenu>
			
			<p:outputLabel value="" />
			<p:outputLabel value="Activo" />
			<p:selectOneMenu id="activo" disabled="#{!gestionUsuario.modoEdicion}" value="#{gestionUsuario.usuarioSeleccionado.activo}">
   			
   				<f:selectItem itemValue="true" itemLabel="Activo" />
   				<f:selectItem itemValue="false" itemLabel="Inactivo" />
   				
			</p:selectOneMenu>
			
		
			
			<p:message for="rolUsuario" style="color:red" />

		
			

		</p:panelGrid>
		
		
		<!--  Botones  -->
		</p:messages>
		<h:commandButton id="idModificar"  value="Modificar" rendered="#{!gestionUsuario.modoEdicion}"	>
    			<f:param name="id" value="${gestionUsuario.id}" />
    			<f:param name="modalidad" value="update" />
		</h:commandButton> 
		<h:commandButton value="Salvar cambios"	rendered="#{gestionUsuario.modoEdicion}" 
			update=":form" 	action="#{gestionUsuario.salvarCambios}">
		    	<f:param name="id" value="${gestionUsuario.id}" />
    			<f:param name="modalidad" value="update" />
		</h:commandButton>
		
	
		
		
		
		
	</h:form>

			 
			 
			 
			 

    </ui:define>
</ui:composition>

